<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Precision & Safety Firearms Training</title>
  <meta name="description" content="Marine-led, safety-first firearms training. Actionable coaching, measurable progress, and real-world accountability. Sign up online.">
  <meta name="theme-color" content="#0f172a">
  <meta name="color-scheme" content="light dark">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸŽ¯</text></svg>">
  <style>
    :root {
      --bg: #0b1220;         /* slate-950 */
      --bg-soft: #0f172a;    /* slate-900 */
      --card: #111827;       /* gray-900 */
      --muted: #94a3b8;      /* slate-400 */
      --text: #e5e7eb;       /* gray-200 */
      --brand: #22c55e;      /* green-500 */
      --brand-600: #16a34a;  /* green-600 */
      --accent: #60a5fa;     /* blue-400 */
      --danger: #ef4444;     /* red-500 */
      --ring: rgba(34,197,94,0.35);
      --shadow: 0 10px 25px rgba(0,0,0,0.35);
      --radius: 18px;
      --radius-sm: 12px;
      --maxw: 1200px;
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f8fafc;
        --bg-soft: #f1f5f9;
        --card: #ffffff;
        --muted: #475569;
        --text: #0f172a;
        --ring: rgba(29,78,216,0.25);
        --shadow: 0 6px 20px rgba(2,6,23,0.08);
      }
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 100%);
      color: var(--text);
      line-height: 1.6;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .container { width: 100%; max-width: var(--maxw); margin-inline: auto; padding-inline: 1rem; }
    .btn { display:inline-flex; align-items:center; gap:.5rem; padding:.85rem 1.1rem; border-radius: var(--radius-sm); border: 1px solid transparent; font-weight:600; cursor:pointer; box-shadow: var(--shadow); }
    .btn-primary { background: var(--brand); color: #052e16; }
    .btn-primary:hover { background: var(--brand-600); }
    .btn-ghost { background: transparent; border-color: rgba(148,163,184,0.25); color: var(--text); }
    .btn-ghost:hover { border-color: rgba(148,163,184,0.45); }
    .badge { background: rgba(34,197,94,0.12); color: var(--brand); padding:.25rem .55rem; border-radius: 999px; font-weight:700; font-size:.8rem; }

    /* Header */
    header {
      position: sticky; top: 0; z-index: 50; backdrop-filter: blur(8px);
      background: color-mix(in oklab, var(--bg-soft) 80%, transparent);
      border-bottom: 1px solid rgba(148,163,184,0.15);
    }
    nav { display:flex; align-items:center; justify-content:space-between; min-height: 64px; }
    .nav-links { display:flex; gap:.8rem; flex-wrap: wrap; }
    .nav-links a { padding:.5rem .75rem; border-radius: 10px; font-weight:600; color: var(--muted);} 
    .nav-links a:hover { background: rgba(148,163,184,0.12); color: var(--text); text-decoration:none; }

    /* Hero */
    .hero { position: relative; padding: 6rem 0 3rem; overflow: hidden; }
    .hero-grid { display:grid; grid-template-columns: 1.2fr .8fr; gap: 2rem; align-items:center; }
    .hero h1 { font-size: clamp(2rem, 4vw, 3.25rem); line-height:1.1; margin:.25rem 0 1rem; }
    .hero p { color: var(--muted); max-width: 60ch; }
    .hero .cta { display:flex; gap:.8rem; flex-wrap:wrap; margin-top:1rem; }
    .hero-card { background: radial-gradient(1000px 600px at 100% -0%, rgba(96,165,250,0.15), transparent 60%),
                              radial-gradient(1000px 600px at -10% 110%, rgba(34,197,94,0.15), transparent 60%),
                              var(--card); 
                  border: 1px solid rgba(148,163,184,0.15); border-radius: var(--radius); padding: 1rem; }
    .hero-card-inner { border-radius: calc(var(--radius) - 8px); padding: 1.25rem; background: color-mix(in oklab, var(--card) 86%, transparent); border: 1px dashed rgba(148,163,184,0.25); }

    /* Sections */
    section { padding: 3rem 0; }
    .section-title { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1.25rem; }
    h2 { font-size: clamp(1.35rem, 2.4vw, 2rem); margin: 0; }

    /* Cards grid */
    .grid { display:grid; gap: 1rem; }
    .grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
    .grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
    @media (max-width: 980px) { .hero-grid { grid-template-columns: 1fr; } .grid-3, .grid-2 { grid-template-columns: 1fr; } }

    .card { background: var(--card); border: 1px solid rgba(148,163,184,0.15); border-radius: var(--radius); overflow: hidden; display:flex; flex-direction: column; }
    .card-body { padding: 1rem; display:flex; flex-direction: column; gap:.6rem; }
    .card h3 { margin:.35rem 0; font-size: 1.1rem; }
    .meta { color: var(--muted); font-size: .95rem; display:flex; gap:.75rem; flex-wrap:wrap; }

    /* Calendar */
    .calendar { background: var(--card); border: 1px solid rgba(148,163,184,0.15); border-radius: var(--radius); overflow:hidden; }
    .cal-head { display:flex; align-items:center; justify-content:space-between; padding: .75rem 1rem; border-bottom: 1px solid rgba(148,163,184,0.15); }
    .cal-grid { display:grid; grid-template-columns: repeat(7, 1fr); }
    .cal-dow, .cal-cell { padding:.75rem; border-bottom: 1px solid rgba(148,163,184,0.08); border-right: 1px solid rgba(148,163,184,0.08); min-height: 88px; }
    .cal-grid > *:nth-child(7n) { border-right: none; }
    .cal-dow { font-weight:700; color: var(--muted); background: color-mix(in oklab, var(--card) 90%, transparent); }
    .cal-cell { position: relative; }
    .cal-num { position:absolute; top:.5rem; right:.5rem; font-size:.85rem; color: var(--muted); }
    .cal-event { display:block; margin-top:1.6rem; font-size:.85rem; padding:.35rem .5rem; border-radius: 8px; background: rgba(96,165,250,0.15); color: #dbeafe; border: 1px solid rgba(96,165,250,0.35); cursor:pointer; }
    .cal-event:hover { filter: brightness(1.1); }
    .event-list { display:flex; flex-direction:column; gap:.6rem; }

    /* Forms */
    form { display:grid; gap:.8rem; }
    .row { display:grid; gap:.8rem; grid-template-columns: repeat(2, minmax(0,1fr)); }
    @media (max-width: 720px) { .row { grid-template-columns: 1fr; } }
    label { font-weight: 600; }
    input, select, textarea { width:100%; padding:.8rem; border-radius: 12px; border: 1px solid rgba(148,163,184,0.35); background: color-mix(in oklab, var(--card) 94%, transparent); color: var(--text); }
    input:focus, select:focus, textarea:focus { outline: none; border-color: var(--brand); box-shadow: 0 0 0 4px var(--ring); }
    small.help { color: var(--muted); }
    .success { background: rgba(34,197,94,0.12); border: 1px solid rgba(34,197,94,0.35); color: var(--brand); padding:.75rem 1rem; border-radius: 12px; }
    .error { background: rgba(239,68,68,0.12); border: 1px solid rgba(239,68,68,0.35); color: #fecaca; padding:.75rem 1rem; border-radius: 12px; }

    /* Footer */
    footer { padding: 2.25rem 0; color: var(--muted); border-top: 1px solid rgba(148,163,184,0.15); }
    .social { display:flex; gap:.6rem; }
    .social a { display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius: 50%; border: 1px solid rgba(148,163,184,0.25); }

    /* Utilities */
    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
    .spacer { height: 1.5rem; }
    .hide { display:none !important; }
  </style>
</head>
<body>
  <!-- ===== Header / Nav ===== -->
  <header>
    <div class="container">
      <nav aria-label="Primary">
        <a href="#home" class="logo" style="display:flex;align-items:center;gap:.6rem;font-weight:800;color:var(--text);text-decoration:none">
          <span aria-hidden="true">ðŸŽ¯</span> <span>Precision & Safety</span>
        </a>
        <div class="nav-links" role="navigation">
          <a href="#home">Home</a>
          <a href="#courses">Course list</a>
          <a href="#calendar">Calendar</a>
          <a href="#instructor">Instructor</a>
          <a href="#contact">Contact us</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <main id="home" class="hero">
    <div class="container hero-grid">
      <div>
        <span class="badge">US Marineâ€“led â€¢ Safety-first instruction</span>
        <h1>Train with a Marine. Build real-world safety and confidenceâ€”fast.</h1>
        <p>
          I bring <strong>Marine Corps discipline</strong> and <strong>years of instruction</strong> to every class.
          Youâ€™ll master safe handling, decision-making, and repeatable fundamentals with
          <strong>clear drills</strong>, <strong>objective standards</strong>, and a <strong>takeâ€‘home practice plan</strong> so you keep getting better after class.
        </p>
        <div class="cta">
          <a class="btn btn-primary" href="#courses" aria-label="View courses and sign up">View Courses & Sign Up</a>
          <a class="btn btn-ghost" href="#calendar">See Upcoming Dates</a>
        </div>
        <div class="spacer"></div>
        <div class="meta" aria-label="Quick facts">
          <span>ðŸ¦… US Marine veteran instructor</span>
          <span>ðŸ“‹ Standards-based curriculum</span>
          <span>ðŸŽ¯ Actionable feedback & afterâ€‘class plan</span>
        </div>
      </div>
      <div class="hero-card" aria-label="Fast sign-up">
        <div class="hero-card-inner">
          <h2 style="margin:0 0 .25rem">Quick Sign-Up</h2>
          <p class="meta" style="margin:0 0 .75rem">Pick a course and preferred date. We'll confirm by email.</p>
          <form id="quickForm" autocomplete="on" aria-label="Quick sign up form">
            <div class="row">
              <div>
                <label for="qname">Full name</label>
                <input id="qname" name="name" required placeholder="Your name" />
              </div>
              <div>
                <label for="qemail">Email</label>
                <input id="qemail" name="email" type="email" required placeholder="you@example.com" />
              </div>
            </div>
            <div class="row">
              <div>
                <label for="qphone">Phone</label>
                <input id="qphone" name="phone" type="tel" placeholder="(555) 555-5555" />
              </div>
              <div>
                <label for="qcourse">Course</label>
                <select id="qcourse" name="course" required></select>
              </div>
            </div>
            <div>
              <label for="qdate">Preferred date</label>
              <select id="qdate" name="date" required>
                <option value="">Choose a dateâ€¦</option>
              </select>
              <small class="help">Donâ€™t see a date that works? Pick any and tell us in the message below.</small>
            </div>
            <div>
              <label for="qmsg">Message (optional)</label>
              <textarea id="qmsg" name="message" rows="3" placeholder="Any questions or accessibility needs?"></textarea>
            </div>
            <button class="btn btn-primary" type="submit">Request a Spot</button>
            <div id="qstatus" class="hide" role="status" aria-live="polite"></div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <!-- ===== Why Train Here ===== -->
  <section id="why" aria-labelledby="why-h">
    <div class="container">
      <div class="section-title">
        <h2 id="why-h">Why train with AJ</h2>
        <div class="meta">Marine-tested mindset â€¢ Safety without compromise â€¢ Skills you can prove</div>
      </div>
      <div class="grid grid-3">
        <article class="card"><div class="card-body"><h3>Safety is nonâ€‘negotiable</h3><p>Strict range protocols, redundancy, and clear communicationâ€”modeled and enforced every rep.</p></div></article>
        <article class="card"><div class="card-body"><h3>Do, measure, improve</h3><p>Short evolutions, scored drills, and immediate coaching so you leave with objective benchmarks.</p></div></article>
        <article class="card"><div class="card-body"><h3>Realâ€‘world accountability</h3><p>Legal context, deâ€‘escalation, and ethical decisionâ€‘making integrated into every level.</p></div></article>
      </div>
    </div>
  </section>

  <!-- ===== Courses ===== -->
  <section id="why" aria-labelledby="why-h">
    <div class="container">
      <div class="section-title">
        <h2 id="why-h">Why train with AJ</h2>
        <div class="meta">Marine-tested mindset â€¢ Safety without compromise â€¢ Skills you can prove</div>
      </div>
      <div class="grid grid-3">
        <article class="card"><div class="card-body"><h3>Safety is nonâ€‘negotiable</h3><p>Strict range protocols, redundancy, and clear communicationâ€”modeled and enforced every rep.</p></div></article>
        <article class="card"><div class="card-body"><h3>Do, measure, improve</h3><p>Short evolutions, scored drills, and immediate coaching so you leave with objective benchmarks.</p></div></article>
        <article class="card"><div class="card-body"><h3>Realâ€‘world accountability</h3><p>Legal context, deâ€‘escalation, and ethical decisionâ€‘making integrated into every level.</p></div></article>
      </div>
    </div>
  </section>

  <section id="courses" aria-labelledby="courses-h">
    <div class="container">
      <div class="section-title">
        <h2 id="courses-h">Course list</h2>
        <div class="meta">Transparent prerequisites â€¢ Clear outcomes â€¢ Certificates of completion</div>
      </div>
      <div id="coursesGrid" class="grid grid-3" aria-live="polite"></div>
    </div>
  </section>

  <!-- ===== Calendar ===== -->
  <section id="calendar" aria-labelledby="calendar-h">
    <div class="container">
      <div class="section-title">
        <h2 id="calendar-h">Calendar & Online Sign-Up</h2>
        <div class="meta">
          Pick a session to reserve a seat. Youâ€™ll receive a confirmation email and pre-class checklist.
        </div>
      </div>

      <div class="grid grid-2">
        <div class="calendar" aria-label="Calendar">
          <div class="cal-head">
            <button class="btn btn-ghost" id="prevMonth" aria-label="Previous month">â—€</button>
            <div class="meta" id="calLabel" aria-live="polite"></div>
            <button class="btn btn-ghost" id="nextMonth" aria-label="Next month">â–¶</button>
          </div>
          <div class="cal-grid" id="calGrid" role="grid" aria-readonly="true"></div>
        </div>
        <div>
          <div class="card">
            <div class="card-body">
              <div class="section-title" style="margin-bottom:.25rem">
                <h3 style="margin:0">Upcoming Sessions</h3>
                <select id="courseFilter" title="Filter by course"></select>
              </div>
              <div id="eventList" class="event-list" aria-live="polite"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Instructor ===== -->
  <section id="instructor" aria-labelledby="instructor-h">
    <div class="container">
      <div class="section-title">
        <h2 id="instructor-h">Instructor bio</h2>
      </div>
      <div class="grid grid-2">
        <div class="card">
          <div class="card-body">
            <h3 style="margin-top:0">AJ Clark, Lead Instructor</h3>
            <div class="meta">US Marine Veteran â€¢ State CCW Certified â€¢ Range Safety Officer</div>
            <div class="meta">US Marine Veteran â€¢ State CCW Certified â€¢ Range Safety Officer</div>
            <p>
              AJ applies Marine Corps standards and extensive training experience to help you build <strong>safe, repeatable skills</strong> quickly. Expect clear objectives, honest coaching, and a professional environment where safety and accountability come first.</p>
            <ul>
              <li>Specialties: Fundamentals, CCW prep, defensive mindset, scenarioâ€‘based drills</li>
              <li>Approach: Marineâ€‘tested discipline, smallâ€‘group coaching, objective standards</li>
              <li>What you get: A personal practice plan and benchmarks to track progress</li>
            </ul>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            <h3 style="margin-top:0">Training Values</h3>
            <p>We follow and reinforce four core rules of safe firearms handling and range etiquette at all times.</p>
            <ol>
              <li>Treat every firearm as if itâ€™s loaded.</li>
              <li>Never point a firearm at anything youâ€™re not willing to destroy.</li>
              <li>Keep your finger off the trigger until your sights are on target and youâ€™ve made the decision to shoot.</li>
              <li>Be sure of your target and whatâ€™s beyond it.</li>
            </ol>
            <p class="meta">Compliance: We align with all applicable local, state, and federal laws and range policies.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Contact ===== -->
  <section id="contact" aria-labelledby="contact-h">
    <div class="container">
      <div class="section-title">
        <h2 id="contact-h">Contact us</h2>
        <div class="meta">Questions about prerequisites or private instruction? Send us a note.</div>
      </div>
      <div class="grid grid-2">
        <div class="card">
          <div class="card-body">
            <h3 style="margin-top:0">Message</h3>
            <form id="contactForm" autocomplete="on" aria-label="Contact form">
              <div class="row">
                <div>
                  <label for="cname">Full name</label>
                  <input id="cname" name="name" required placeholder="Your name" />
                </div>
                <div>
                  <label for="cemail">Email</label>
                  <input id="cemail" name="email" type="email" required placeholder="you@example.com" />
                </div>
              </div>
              <div class="row">
                <div>
                  <label for="cphone">Phone</label>
                  <input id="cphone" name="phone" type="tel" placeholder="(555) 555-5555" />
                </div>
                <div>
                  <label for="csubject">Subject</label>
                  <input id="csubject" name="subject" placeholder="Course question, private lesson, etc." />
                </div>
              </div>
              <div>
                <label for="cmsg">How can we help?</label>
                <textarea id="cmsg" name="message" rows="5" required></textarea>
              </div>
              <button class="btn btn-primary" type="submit">Send message</button>
              <div id="cstatus" class="hide" role="status" aria-live="polite"></div>
            </form>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <h3 style="margin-top:0">Social media</h3>
            <p>Follow for tips, safety reminders, and schedule updates.</p>
            <div class="social" aria-label="Social media links">
              <a href="https://instagram.com/YOUR_HANDLE" aria-label="Instagram" target="_blank" rel="noopener">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm6.5-.25a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z" stroke="currentColor" stroke-width="1.5"/></svg>
              </a>
              <a href="https://facebook.com/YOUR_HANDLE" aria-label="Facebook" target="_blank" rel="noopener">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M14 10h3.5l-.5 4H14v8h-4v-8H7v-4h3V8.5C10 5.5 11.5 4 14.8 4H18v4h-2.2c-1.1 0-1.8.7-1.8 2V10Z" stroke="currentColor" stroke-width="1.5"/></svg>
              </a>
              <a href="https://www.youtube.com/@YOUR_HANDLE" aria-label="YouTube" target="_blank" rel="noopener">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M22 8.2c-.2-1.6-1.3-2.7-2.9-2.9C17.2 5 12 5 12 5s-5.2 0-7.1.3C3.3 5.5 2.2 6.6 2 8.2 1.7 10.1 1.7 12 1.7 12s0 1.9.3 3.8c.2 1.6 1.3 2.7 2.9 2.9 1.9.3 7.1.3 7.1.3s5.2 0 7.1-.3c1.6-.2 2.7-1.3 2.9-2.9.3-1.9.3-3.8.3-3.8s0-1.9-.3-3.8ZM10 15.3V8.7l5.7 3.3L10 15.3Z" stroke="currentColor" stroke-width="1.5"/></svg>
              </a>
              <a href="https://t.me/YOUR_HANDLE" aria-label="Telegram" target="_blank" rel="noopener">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21.5 3.5 2.7 11.2c-1.3.5-1.3 2.3.1 2.8l4.6 1.4 1.7 5.4c.3 1 1.6 1.1 2.1.2l2.5-4.1 5.1 3.7c.9.7 2.1.2 2.3-1l2.1-14.6c.2-1.2-1-2.1-2.3-1.5Z" stroke="currentColor" stroke-width="1.5"/></svg>
              </a>
            </div>
            <div class="spacer"></div>
            <p class="meta">Email: <a href="mailto:training@example.com">training@example.com</a><br>Range: 123 Safe Range Rd, Your City, ST</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap">
      <div>Â© <span id="year"></span> Precision & Safety Training â€¢ All rights reserved</div>
      <div class="meta">Safety-first instruction. Lawful, responsible training.</div>
    </div>
  </footer>

  <!-- ===== Data & Scripts ===== -->
  <script>
    // ---- Tunables ----
    const BRAND = {
      name: "Precision & Safety Training",
      email: "training@example.com",
      phone: "+1-555-555-5555",
      url: "https://YOUR_GITHUB_USERNAME.github.io/YOUR_REPO/",
      formEndpoint: "https://formspree.io/f/YOUR_FORMSPREE_ID" // Replace with your Formspree (or similar) endpoint
    };

    // Course catalog (edit to your offerings)
    const COURSES = [
      {
        id: "pistol-1",
        title: "Pistol 1: Safety & Fundamentals",
        level: "Beginner",
        duration: "4 hours",
        price: 149,
        prerequisites: "None",
        outcomes: [
          "Four safety rules & range etiquette",
          "Stance, grip, sight picture, trigger press",
          "Loading/unloading, basic malfunctions"
        ],
        description: "A safety-first introduction to responsible pistol handling and foundational marksmanship."
      },
      {
        id: "pistol-2",
        title: "Pistol 2: Defensive Essentials",
        level: "Intermediate",
        duration: "6 hours",
        price: 225,
        prerequisites: "Pistol 1 or equivalent",
        outcomes: [
          "Draw stroke & holster use (range approved)",
          "Reloads and malfunction clearance",
          "Decision-making and accountability"
        ],
        description: "Skill progression with a focus on efficiency, accountability, and lawful defensive context."
      },
      {
        id: "carbine-1",
        title: "Rifle/Carbine 1: Foundations",
        level: "All levels",
        duration: "6 hours",
        price: 245,
        prerequisites: "None",
        outcomes: [
          "Zeroing & holds",
          "Ready positions & movement",
          "Positional shooting fundamentals"
        ],
        description: "Modern sporting rifle fundamentals with emphasis on safety and responsible use."
      },
      {
        id: "ccw",
        title: "Concealed Carry (CCW) Certification",
        level: "All levels",
        duration: "1â€“2 days (jurisdiction dependent)",
        price: 299,
        prerequisites: "Background check & requirements per jurisdiction",
        outcomes: [
          "Legal considerations & safe carry",
          "De-escalation & responsible mindset",
          "Qualification per state/local standards"
        ],
        description: "Meets instructional components for CCW where permitted. Content adapted to local regulations."
      },
      {
        id: "womens-intro",
        title: "Women's Intro to Firearms",
        level: "Beginner",
        duration: "4 hours",
        price: 159,
        prerequisites: "None",
        outcomes: [
          "Safety & fundamentals",
          "Equipment selection & fit",
          "Confidence-building reps"
        ],
        description: "Supportive environment focused on fundamentals and confidence."
      },
      {
        id: "rso",
        title: "Range Safety Officer (RSO) Skills Workshop",
        level: "Intermediate",
        duration: "4 hours",
        price: 179,
        prerequisites: "Basic firearms fundamentals",
        outcomes: [
          "Range procedures & communication",
          "Safety diagnostics",
          "Incident response coordination"
        ],
        description: "For volunteers and staff who help keep ranges safe and organized."
      }
    ];

    // Session schedule (ISO times; location/address optional)
    const SESSIONS = [
      { id: "s1", courseId: "pistol-1", start: "2025-09-06T09:00:00-07:00", end: "2025-09-06T13:00:00-07:00", location: "Safe Range â€” Bay 3", seats: 10 },
      { id: "s2", courseId: "pistol-1", start: "2025-09-20T13:00:00-07:00", end: "2025-09-20T17:00:00-07:00", location: "Safe Range â€” Bay 4", seats: 10 },
      { id: "s3", courseId: "pistol-2", start: "2025-10-05T09:00:00-07:00", end: "2025-10-05T15:00:00-07:00", location: "Safe Range â€” Bay 2", seats: 8 },
      { id: "s4", courseId: "carbine-1", start: "2025-10-18T09:00:00-07:00", end: "2025-10-18T15:00:00-07:00", location: "Outdoor Range â€” Line A", seats: 12 },
      { id: "s5", courseId: "ccw", start: "2025-11-01T09:00:00-07:00", end: "2025-11-02T16:00:00-08:00", location: "Classroom + Range", seats: 14 },
      { id: "s6", courseId: "womens-intro", start: "2025-09-27T09:00:00-07:00", end: "2025-09-27T13:00:00-07:00", location: "Safe Range â€” Bay 1", seats: 10 },
      { id: "s7", courseId: "rso", start: "2025-10-12T12:00:00-07:00", end: "2025-10-12T16:00:00-07:00", location: "Classroom B", seats: 10 }
    ];

    // ---- Utilities ----
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => [...root.querySelectorAll(sel)];
    const fmtMoney = (n) => new Intl.NumberFormat(undefined, { style: 'currency', currency: 'USD' }).format(n);
    const fmtDate = (iso) => new Date(iso).toLocaleString([], { dateStyle: 'medium', timeStyle: 'short' });
    const dom = { year: $('#year'), coursesGrid: $('#coursesGrid'), courseFilter: $('#courseFilter'), calLabel: $('#calLabel'), calGrid: $('#calGrid'), eventList: $('#eventList'), quickForm: $('#quickForm'), contactForm: $('#contactForm'), qstatus: $('#qstatus'), cstatus: $('#cstatus'), qcourse: $('#qcourse'), qdate: $('#qdate') };

    // ---- Render Courses ----
    function renderCourses() {
      dom.coursesGrid.innerHTML = COURSES.map(c => {
        const outcomes = c.outcomes.map(o => `<li>${o}</li>`).join('');
        return `
          <article class="card" data-course="${c.id}">
            <div class="card-body">
              <h3>${c.title}</h3>
              <div class="meta">
                <span>Level: ${c.level}</span>
                <span>Duration: ${c.duration}</span>
                <span>Price: ${fmtMoney(c.price)}</span>
              </div>
              <p>${c.description}</p>
              <details>
                <summary>What you'll learn</summary>
                <ul style="margin:.5rem 0 0 1rem">${outcomes}</ul>
                <p class="meta" style="margin:.5rem 0 0">Prerequisites: ${c.prerequisites}</p>
              </details>
              <div style="display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.6rem">
                <button class="btn btn-primary" onclick="gotoCalendar('${c.id}')">See dates & sign up</button>
                <button class="btn btn-ghost" onclick="prefillQuick('${c.id}')">Quick sign-up</button>
              </div>
            </div>
          </article>`;
      }).join('');
    }

    // ---- Calendar ----
    let cal = { month: new Date().getMonth(), year: new Date().getFullYear(), filter: 'all' };

    function renderCalendar() {
      const d = new Date(cal.year, cal.month, 1);
      const monthName = d.toLocaleString([], { month: 'long', year: 'numeric' });
      dom.calLabel.textContent = monthName;

      const firstDay = new Date(cal.year, cal.month, 1).getDay();
      const daysInMonth = new Date(cal.year, cal.month + 1, 0).getDate();

      const header = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(x => `<div class="cal-dow" role="columnheader">${x}</div>`).join('');

      let cells = Array(firstDay).fill('').map(() => `<div class="cal-cell" aria-disabled="true"></div>`).join('');
      for (let day = 1; day <= daysInMonth; day++) {
        const dateStr = new Date(cal.year, cal.month, day).toISOString().slice(0,10);
        const dayEvents = SESSIONS.filter(s => s.start.slice(0,10) === dateStr && (cal.filter==='all' || s.courseId===cal.filter));
        const evHtml = dayEvents.map(ev => {
          const course = COURSES.find(c => c.id===ev.courseId);
          return `<a class="cal-event" onclick="focusEvent('${ev.id}')" title="${course.title} at ${new Date(ev.start).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}">${course.title}</a>`;
        }).join('');
        cells += `<div class="cal-cell"><span class="cal-num" aria-hidden="true">${day}</span>${evHtml}</div>`;
      }

      dom.calGrid.innerHTML = header + cells;
    }

    function renderEventList() {
      const filtered = SESSIONS.filter(s => (cal.filter==='all' || s.courseId===cal.filter) && new Date(s.start) >= new Date());
      if (!filtered.length) { dom.eventList.innerHTML = `<p class="meta">No upcoming sessions match the filter.</p>`; return; }
      dom.eventList.innerHTML = filtered.sort((a,b) => new Date(a.start)-new Date(b.start)).map(s => {
        const c = COURSES.find(x => x.id===s.courseId);
        return `
        <div class="card" id="ev-${s.id}">
          <div class="card-body">
            <div class="meta">${c.title}</div>
            <strong>${new Date(s.start).toLocaleDateString([], {weekday:'short', month:'short', day:'numeric'})}</strong>
            <div class="meta">${new Date(s.start).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})} â€“ ${new Date(s.end).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})} â€¢ ${s.location || 'TBD'} â€¢ ${s.seats} seats</div>
            <div style="display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem">
              <button class="btn btn-primary" onclick="openSignup('${s.id}')">Sign up</button>
              <button class="btn btn-ghost" onclick="downloadICS('${s.id}')">Add to calendar (.ics)</button>
            </div>
          </div>
        </div>`;
      }).join('');
    }

    function populateFilters() {
      dom.courseFilter.innerHTML = `<option value="all">All courses</option>` + COURSES.map(c => `<option value="${c.id}">${c.title}</option>`).join('');
      dom.qcourse.innerHTML = COURSES.map(c => `<option value="${c.id}">${c.title}</option>`).join('');
      updateQuickDates();
    }

    function updateQuickDates() {
      const selected = dom.qcourse.value || COURSES[0]?.id;
      const options = SESSIONS.filter(s => s.courseId===selected && new Date(s.start) >= new Date())
        .map(s => `<option value="${s.id}">${fmtDate(s.start)} â€” ${COURSES.find(c=>c.id===s.courseId).title}</option>`).join('');
      dom.qdate.innerHTML = `<option value="">Choose a dateâ€¦</option>` + (options || `<option value="">No upcoming dates â€” we'll contact you</option>`);
    }

    // ---- Actions ----
    function gotoCalendar(courseId) {
      dom.courseFilter.value = courseId;
      cal.filter = courseId;
      renderCalendar();
      renderEventList();
      location.hash = '#calendar';
    }
    function prefillQuick(courseId) {
      dom.qcourse.value = courseId; updateQuickDates(); location.hash = '#home'; $('#qname').focus();
    }
    function focusEvent(id) { document.getElementById('ev-'+id)?.scrollIntoView({behavior:'smooth', block:'center'}); }

    function openSignup(sessionId) {
      // Pre-fill the quick form with session
      const s = SESSIONS.find(x => x.id===sessionId);
      if (!s) return;
      dom.qcourse.value = s.courseId; updateQuickDates();
      dom.qdate.value = s.id;
      location.hash = '#home'; $('#qname').focus();
    }

    function downloadICS(sessionId) {
      const s = SESSIONS.find(x => x.id===sessionId);
      if (!s) return;
      const course = COURSES.find(c => c.id === s.courseId);
      const dtStart = new Date(s.start);
      const dtEnd = new Date(s.end);
      const toICS = (d) => d.toISOString().replace(/[-:]/g, '').replace(/\.\d{3}Z$/, 'Z');
      const uid = `${sessionId}@${location.host}`;
      const ics = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Precision & Safety Training//EN\nBEGIN:VEVENT\nUID:${uid}\nDTSTAMP:${toICS(new Date())}\nDTSTART:${toICS(dtStart)}\nDTEND:${toICS(dtEnd)}\nSUMMARY:${course.title}\nDESCRIPTION:${course.description?.replace(/\n/g,' ')}\nLOCATION:${(s.location||'TBD').replace(/\n/g,' ')}\nEND:VEVENT\nEND:VCALENDAR`;
      const blob = new Blob([ics], { type: 'text/calendar;charset=utf-8' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = `${course.id}-${sessionId}.ics`; a.click(); URL.revokeObjectURL(url);
    }

    // ---- Forms (static-site friendly via Formspree or similar) ----
    async function submitToEndpoint(payload, statusEl) {
      const endpoint = BRAND.formEndpoint;
      if (!endpoint || endpoint.includes('YOUR_FORMSPREE_ID')) {
        statusEl.className = 'error';
        statusEl.textContent = 'Form endpoint not configured. Replace BRAND.formEndpoint with your Formspree (or similar) URL.';
        statusEl.classList.remove('hide');
        return false;
      }
      try {
        const res = await fetch(endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
          body: JSON.stringify(payload)
        });
        if (res.ok) {
          statusEl.className = 'success';
          statusEl.textContent = 'Thanks! We\'ll confirm by email shortly.';
          statusEl.classList.remove('hide');
          return true;
        } else {
          const t = await res.text();
          throw new Error(t || 'Submission failed');
        }
      } catch (e) {
        statusEl.className = 'error';
        statusEl.textContent = 'Submission error. You can also email us at ' + BRAND.email + '.';
        statusEl.classList.remove('hide');
        return false;
      }
    }

    dom.quickForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      dom.qstatus.classList.add('hide');
      const fd = new FormData(dom.quickForm);
      const sessionId = fd.get('date');
      const session = SESSIONS.find(s => s.id === sessionId);
      const course = COURSES.find(c => c.id === (session?.courseId || fd.get('course')));
      const payload = {
        type: 'quick-signup',
        name: fd.get('name'),
        email: fd.get('email'),
        phone: fd.get('phone'),
        courseId: course?.id,
        courseTitle: course?.title,
        sessionId,
        preferredDate: session ? new Date(session.start).toISOString() : null,
        message: fd.get('message'),
        source: location.href
      };
      const ok = await submitToEndpoint(payload, dom.qstatus);
      if (ok) dom.quickForm.reset();
    });

    dom.contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      dom.cstatus.classList.add('hide');
      const fd = new FormData(dom.contactForm);
      const payload = {
        type: 'contact',
        name: fd.get('name'),
        email: fd.get('email'),
        phone: fd.get('phone'),
        subject: fd.get('subject'),
        message: fd.get('message'),
        source: location.href
      };
      const ok = await submitToEndpoint(payload, dom.cstatus);
      if (ok) dom.contactForm.reset();
    });

    // ---- JSON-LD (AI agents & SEO) ----
    function injectJSONLD() {
      const org = {
        '@context': 'https://schema.org',
        '@type': 'SportsActivityLocation',
        name: BRAND.name,
        url: BRAND.url,
        email: BRAND.email,
        telephone: BRAND.phone,
        description: 'Safety-first firearms training and instruction',
      };
      const courses = COURSES.map(c => ({
        '@context': 'https://schema.org', '@type': 'Course',
        name: c.title, description: c.description, provider: { '@type': 'Organization', name: BRAND.name }
      }));
      const events = SESSIONS.map(s => ({
        '@context': 'https://schema.org', '@type': 'Event',
        name: COURSES.find(c=>c.id===s.courseId)?.title,
        startDate: new Date(s.start).toISOString(), endDate: new Date(s.end).toISOString(),
        eventAttendanceMode: 'https://schema.org/OfflineEventAttendanceMode',
        eventStatus: 'https://schema.org/EventScheduled',
        location: { '@type': 'Place', name: s.location || 'Range/Classroom' },
        organizer: { '@type': 'Organization', name: BRAND.name },
      }));
      const payloads = [org, ...courses, ...events];
      payloads.forEach(p => {
        const el = document.createElement('script');
        el.type = 'application/ld+json';
        el.textContent = JSON.stringify(p);
        document.head.appendChild(el);
      });
    }

    // ---- Init ----
    function init() {
      dom.year.textContent = new Date().getFullYear();
      renderCourses();
      populateFilters();
      renderCalendar();
      renderEventList();
      injectJSONLD();

      dom.courseFilter.addEventListener('change', (e) => { cal.filter = e.target.value; renderCalendar(); renderEventList(); });
      $('#prevMonth').addEventListener('click', () => { cal.month--; if (cal.month<0){cal.month=11; cal.year--;} renderCalendar(); });
      $('#nextMonth').addEventListener('click', () => { cal.month++; if (cal.month>11){cal.month=0; cal.year++;} renderCalendar(); });
      dom.qcourse.addEventListener('change', updateQuickDates);
    }

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>